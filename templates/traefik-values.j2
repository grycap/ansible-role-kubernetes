service:
  enabled: true
  type: NodePort
ports:
  web:
    nodePort: 80
  websecure:
    nodePort: 443
tolerations:
  - key: "node-role.kubernetes.io/master"
    operator: "Exists"
    effect: "NoSchedule"
  - key: "node-role.kubernetes.io/control-plane"
    operator: "Exists"
    effect: "NoSchedule"
nodeSelector:
  kubernetes.io/os: linux
{% if kube_ingress_in_master %}
  node-role.kubernetes.io/control-plane: ""
{% endif %}
ingressClass:
  enabled: true
  isDefaultClass: true
  name: traefik
additionalArguments:
  - "--serversTransport.insecureSkipVerify=true"

{% if kube_install_gateway_api %}
providers:
  kubernetesIngress:
    enabled: false
  kubernetesGateway:
    enabled: true
gateway:
  enabled: true
  name: "traefik-gateway"
  gatewayClass:
    enabled: true
    name: "traefik"
  listeners:
    web:
      port: 8080
      protocol: HTTP
      namespacePolicy:
        from: All
    websecure:
      port: 8443
      protocol: HTTPS
      namespacePolicy:
        from: All
      mode: Terminate
      certificateRefs:
        - name: {{ kube_public_dns_name }}-tls
          kind: Secret
{% endif %}